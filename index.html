<!doctype html>
<html lang="ru">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Bootstrap demo</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link href="style.css" rel="stylesheet">
  </head>
  <body>
  <div class="cards">
    <div class="card" style="width: 20rem;">
      <img src="https://avatars.mds.yandex.net/get-goods_pic/6439275/hatfa8a18c3b1a5d3793e0a9bf84d3b6b84/600x600" class="card-img-top" alt="...">
      <div class="card-body">
        <h5 class="card-title">RTX 4090</h5>
        <p class="card-text">Да это 4090</p>
        <button href="#" onclick="buyItem('RTX 4090')" class="btn btn-primary">Купить</button>
      </div>
    </div>
    <div class="card" style="width: 20rem;">
      <img src="https://c.dns-shop.ru/thumb/st1/fit/wm/0/0/a11d9796fcba1ce89fa6df27c5899e29/0b2effb5e95b28fcbd055f1414ea60e25ea1c48a2bc543d9afa5ee2d0d3c8740.jpg.webp" class="card-img-top" alt="...">
      <div class="card-body">
        <h5 class="card-title">Intel Core i9-14900K OEM</h5>
        <p class="card-text">Да это intel</p>
        <button href="#" onclick="buyItem('Intel Core i9-14900K OEM')" class="btn btn-primary">Купить</button>
      </div>
    </div>
    <div class="card" style="width: 20rem;">
      <img src="https://avatars.mds.yandex.net/get-mpic/4120495/2a00000191a163ced9d74bccb25fde2f1432/900x1200" class="card-img-top" alt="...">
      <div class="card-body">
        <h5 class="card-title">Материнская плата</h5>
        <p class="card-text">Да это Материнская плата</p>
        <button href="#" onclick="buyItem('материнская плата')" class="btn btn-primary">Купить</button>
      </div>
    </div>
  </div>
  <div class="cards">
    <div class="card" style="width: 20rem;">
      <img src="https://c.dns-shop.ru/thumb/st4/fit/500/500/fa39cb6b926618e0fae90cdab8de88e5/9766b1320c5ca99c7d8013954c1e8073aeb3cbd0111ea4a37c002c9fabb08048.jpg.webp" class="card-img-top" alt="...">
      <div class="card-body">
        <h5 class="card-title">DEEPCOOL CK560 [R-CK560-BKAAE4-G-1] черный</h5>
        <p class="card-text">Да это Корпус</p>
        <button href="#" onclick="buyItem('корпус')" class="btn btn-primary">Купить</button>
      </div>
    </div>
    <div class="card" style="width: 20rem;">
      <img src="https://c.dns-shop.ru/thumb/st1/fit/500/500/39a920d0e2bde2f0103f10640ab5d674/884a471ba44c754d42bedb5aa0dfe1608508b74ab8908e4709be2d67d6acfea4.jpg.webp" class="card-img-top" alt="...">
      <div class="card-body">
        <h5 class="card-title">MONTECH CENTURY 850 [CENTURY 850]</h5>
        <p class="card-text">Да это бп</p>
        <button href="#" onclick="buyItem('блок питания')" class="btn btn-primary">Купить</button>
      </div>
    </div>
    <div class="card" style="width: 20rem;">
      <img src="https://c.dns-shop.ru/thumb/st1/fit/500/500/49dd9a57182827d274ed9e476489cb5a/82149f01f556d74d0998ce6cea3a952a086b77071a628b70433a31b38eebbf83.jpg.webp" class="card-img-top" alt="...">
      <div class="card-body">
        <h5 class="card-title">23.8" Монитор Dell E2424HS</h5>
        <p class="card-text">Да это монитор</p>
        <button href="#" onclick="buyItem('монитор')" class="btn btn-primary">Купить</button>
      </div>
    </div>
  </div>
  <div class="cards">
    <div class="card" style="width: 20rem;">
      <img src="https://c.dns-shop.ru/thumb/st4/fit/500/500/bbe10dbd99b67adcabee92915100159a/2b702b41648431aca3941f2d9ad9a28a387179153a3b875c402632746eeae37e.png.webp" class="card-img-top" alt="...">
      <div class="card-body">
        <h5 class="card-title">Cooler Master MasterAir MA612 Stealth ARGB [LGA1700] [MAP-T6PS-218PA-R1]</h5>
        <p class="card-text">Да это Кулер</p>
        <button href="#" onclick="buyItem('кулер')" class="btn btn-primary">Купить</button>
      </div>
    </div>
    <div class="card" style="width: 20rem;">
      <img src="https://c.dns-shop.ru/thumb/st1/fit/500/500/9347e54cd0953991b6d0fb9dcef64385/9029ee6b708358fd22565850ef8afdae2e13ddcf46b8e8d932bfa194292ac341.jpg.webp" class="card-img-top" alt="...">
      <div class="card-body">
        <h5 class="card-title">Apacer NOX [AH4U32G32C28YMBAA-2] 32 ГБ</h5>
        <p class="card-text">Да это оперативная память</p>
        <button href="#" onclick="buyItem('RAM')" class="btn btn-primary">Купить</button>
      </div>
    </div>
    <div class="card" style="width: 20rem;">
      <img src="https://c.dns-shop.ru/thumb/st1/fit/500/500/1c5402a4fe7d28402323f04b9ebc51b4/353770ea73eef699a0c5639917ca12204ac5752d42e677d3bb2701268ba87b3e.jpg.webp" class="card-img-top" alt="...">
      <div class="card-body">
        <h5 class="card-title">1000 ГБ 2.5" SATA накопитель WD Blue SA510 [WDS100T3B0A]</h5>
        <p class="card-text">Да это ssd</p>
        <button href="#" onclick="buyItem('накопитель памяти')" class="btn btn-primary">Купить</button>
      </div>
    </div>
  </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
   <script>
    if (window.Telegram && window.Telegram.WebApp) {
      const tg = window.Telegram.WebApp;
      let url = 'https://functions.yandexcloud.net/d4eaom4h2qn7g3nn932m';
      var data = JSON.stringify("https://d5dl25hml07cr8047pt0.8wihnuyr.apigw.yandexcloud.net");

      function buyItem(itemName) {
        tg.MainButton.show();
        tg.MainButton.setText("Оплатить");

        tg.MainButton.onClick(() => {
          console.log(`Куплен товар: ${itemName}`);

          var xhr = new XMLHttpRequest();
          xhr.open("POST", url, true);
          xhr.setRequestHeader("Content-Type", "application/json");
          xhr.setRequestHeader("X-Custom-Info", "getOpenInvoiceUrl");
          xhr.onreadystatechange = function () {
            if (xhr.readyState === 4 && xhr.status === 200) {
              tg.openInvoice(xhr.responseText);
            }
          };
          xhr.send(data);
        });
      }
    } else {
      console.error('Telegram WebApp не доступен.');
    }
    </script>
  </body>
</html>